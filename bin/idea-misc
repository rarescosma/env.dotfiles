#!/usr/bin/env bash

IDEA_VERSION=${IDEA_VERSION:-"2021.2"}

configure() {
  rm -rf ~/.config/JetBrains/IntelliJIdea*/eval
  rm -rf ~/.config/JetBrains/PyCharm*/options/other.xml
  sed -i -E 's/<property name=\"evl.*\".*\/>//' ~/.config/JetBrains/IntelliJIdea*/options/other.xml
  rm -rf ~/.java/.userPrefs/jetbrains/idea
}

golf() {
  PLUGIN_CONFIG="${HOME}/.IntelliJIdea${IDEA_VERSION}/config/options/ide-features-trainer.xml"
  sed -i -e 's/value="PASSED"/value="NOT_PASSED"/g' "${PLUGIN_CONFIG}"
  exec idea
}

for target in "${@}"; do
  $target
done
