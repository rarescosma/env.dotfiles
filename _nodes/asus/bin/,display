#!/usr/bin/env bash

,shuffle_wall() {
  feh --no-fehbg --bg-fill $(find ~/media/wallpapers -type f | shuf | head -1)
}

,default() {
  ,internal
  feh --no-fehbg --bg-fill ~/media/wallpapers/ship.webp
}

,internal() {
  xrandr --auto

  ,wm dpi::terminal 11
  ,wm dpi::i3 8
  ,wm dpi::gtk 11
  ,wm dpi::x 110
  ,wm dpi::rofi 12
}

,oldmon() {
  xrandr --output eDP1 --primary --mode 1920x1080 --pos 1680x0 --rotate normal \
    --output DP1 --off \
    --output HDMI1 --off \
    --output HDMI2 --mode 1680x1050 --pos 0x0 --rotate normal \
    --output VIRTUAL1 --off
}

(return 0 2>/dev/null) && sourced=1 || sourced=0

# don't dispatch if we're being sourced
if [[ "$sourced" == "0" ]]; then
  test -z "${SYSTEMD_EXEC_PID:-}" && exec 2> >(tee -a /dev/stderr)
  $@
fi
